{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 14, "column": 0}, "map": {"version":3,"sources":["file:///C:/dev/pet-shop-mockup/app/products/%5Bslug%5D/product-client.tsx/__nextjs-internal-proxy.mjs"],"sourcesContent":["// This file is generated by next-core EcmascriptClientReferenceModule.\nimport { registerClientReference } from \"react-server-dom-turbopack/server\";\nexport default registerClientReference(\n    function() { throw new Error(\"Attempted to call the default export of [project]/app/products/[slug]/product-client.tsx <module evaluation> from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.\"); },\n    \"[project]/app/products/[slug]/product-client.tsx <module evaluation>\",\n    \"default\",\n);\n"],"names":[],"mappings":";;;;AAAA,uEAAuE;AACvE;;uCACe,IAAA,wQAAuB,EAClC;IAAa,MAAM,IAAI,MAAM;AAA0S,GACvU,wEACA","ignoreList":[0]}},
    {"offset": {"line": 28, "column": 0}, "map": {"version":3,"sources":["file:///C:/dev/pet-shop-mockup/app/products/%5Bslug%5D/product-client.tsx/__nextjs-internal-proxy.mjs"],"sourcesContent":["// This file is generated by next-core EcmascriptClientReferenceModule.\nimport { registerClientReference } from \"react-server-dom-turbopack/server\";\nexport default registerClientReference(\n    function() { throw new Error(\"Attempted to call the default export of [project]/app/products/[slug]/product-client.tsx from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.\"); },\n    \"[project]/app/products/[slug]/product-client.tsx\",\n    \"default\",\n);\n"],"names":[],"mappings":";;;;AAAA,uEAAuE;AACvE;;uCACe,IAAA,wQAAuB,EAClC;IAAa,MAAM,IAAI,MAAM;AAAsR,GACnT,oDACA","ignoreList":[0]}},
    {"offset": {"line": 42, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":""}},
    {"offset": {"line": 50, "column": 0}, "map": {"version":3,"sources":["file:///C:/dev/pet-shop-mockup/lib/api.ts"],"sourcesContent":["// lib/api.ts\r\nlet loadingCount = 0\r\nlet globalLoadingHandler: ((loading: boolean) => void) | null = null\r\n\r\nexport function setGlobalLoadingHandler(handler: (loading: boolean) => void) {\r\n  globalLoadingHandler = handler\r\n}\r\n\r\nexport async function apiFetch(\r\n  endpoint: string,\r\n  options: RequestInit = {},\r\n  token?: string,\r\n  withLoading: boolean = false\r\n) {\r\n  try {\r\n    if (withLoading) {\r\n      loadingCount++\r\n      globalLoadingHandler?.(true)\r\n    }\r\n\r\n    const res = await fetch(`${process.env.NEXT_PUBLIC_API_URL}${endpoint}`, {\r\n      ...options,\r\n      headers: {\r\n        \"Accept\": \"application/json\",\r\n        \"Content-Type\": \"application/json\",\r\n        ...(token ? { Authorization: `Bearer ${token}` } : {}),\r\n        ...options.headers,\r\n      },\r\n    })\r\n\r\n    let data: any = null\r\n    try {\r\n      data = await res.json()\r\n    } catch { }\r\n\r\n    if (!res.ok) throw data || { message: \"Terjadi kesalahan server\" }\r\n\r\n    return data\r\n  } finally {\r\n    if (withLoading) {\r\n      loadingCount--\r\n      if (loadingCount === 0) {\r\n        globalLoadingHandler?.(false)\r\n      }\r\n    }\r\n  }\r\n}\r\n\r\n\r\nexport async function fetchProducts(params?: URLSearchParams) {\r\n  const url = `${process.env.NEXT_PUBLIC_API_URL}/products${params ? `?${params}` : \"\"}`\r\n\r\n  const res = await fetch(url, {\r\n    cache: \"no-store\"\r\n  })\r\n\r\n  if (!res.ok) {\r\n    throw new Error(\"Failed to fetch products\")\r\n  }\r\n\r\n  return res.json()\r\n}\r\n\r\nexport async function fetchProduct(slug: string) {\r\n  const res = await fetch(\r\n    `${process.env.NEXT_PUBLIC_API_URL}/products/${slug}`,\r\n    { cache: \"no-store\" }\r\n  )\r\n\r\n  if (!res.ok) return null\r\n  const json = await res.json()\r\n  return json.data ?? null\r\n}\r\n\r\n\r\n\r\nexport async function fetchCategories() {\r\n  const res = await fetch(`${process.env.NEXT_PUBLIC_API_URL}/product-categories`, {\r\n    cache: \"no-store\",\r\n  })\r\n\r\n  if (!res.ok) throw new Error(\"Failed to fetch categories\")\r\n\r\n  return res.json()\r\n}\r\n\r\n\r\n\r\nexport async function validateCartAPI(\r\n  items: {\r\n    productId: number\r\n    variantId: number | null\r\n    quantity: number\r\n  }[],\r\n  token?: string\r\n) {\r\n  return apiFetch(\r\n    `/cart/validate`,\r\n    {\r\n      method: \"POST\",\r\n      body: JSON.stringify({\r\n        items: items.map(i => ({\r\n          product_id: i.productId,\r\n          product_variant_id: i.variantId,\r\n          quantity: i.quantity,\r\n        })),\r\n      }),\r\n    },\r\n    token\r\n  )\r\n}\r\nexport const addCartAPI = async (\r\n  token: string,\r\n  item: {\r\n    productId: number\r\n    variantId: number | null\r\n    quantity: number\r\n  }\r\n) => {\r\n  return apiFetch(\r\n    \"/cart\",\r\n    {\r\n      method: \"POST\",\r\n      body: JSON.stringify({\r\n        items: [\r\n          {\r\n            product_id: item.productId,\r\n            product_variant_id: item.variantId,\r\n            quantity: item.quantity,\r\n          },\r\n        ],\r\n      }),\r\n    },\r\n    token\r\n  )\r\n}\r\n\r\nexport async function updateCartItemAPI(\r\n  cartItemId: number,\r\n  quantity: number,\r\n  token: string\r\n) {\r\n  return apiFetch(\r\n    `/cart/${cartItemId}`,\r\n    {\r\n      method: \"PUT\",\r\n      body: JSON.stringify({ quantity }),\r\n    },\r\n    token,\r\n    true\r\n  )\r\n}\r\n\r\n\r\nexport async function deleteCartItemAPI(\r\n  cartItemId: number,\r\n  token: string\r\n) {\r\n  return apiFetch(\r\n    `/cart/${cartItemId}`,\r\n    { method: \"DELETE\" },\r\n    token,\r\n    true\r\n  )\r\n}\r\n\r\n\r\nexport async function clearCartAPI (token?: string) {\r\n  return apiFetch(\r\n    \"/cart/clear\",\r\n    {\r\n      method: \"DELETE\",\r\n    },\r\n    token,\r\n    true\r\n  )\r\n}\r\n\r\nexport const getMyOrdersAPI = async (token?: string) => {\r\n  return apiFetch(\"/orders/my\", {\r\n    method: \"GET\",\r\n  }, token)\r\n}\r\n\r\nexport async function getOrderDetailAPI( orderNumber: string, token?: string ) {\r\n  return apiFetch(\r\n    `/orders/${orderNumber}`,\r\n    { method: \"GET\" },\r\n    token\r\n  )\r\n}\r\n\r\n\r\n\r\n\r\n\r\n"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;AAAA,aAAa;AACb,IAAI,eAAe;AACnB,IAAI,uBAA4D;AAEzD,SAAS,wBAAwB,OAAmC;IACzE,uBAAuB;AACzB;AAEO,eAAe,SACpB,QAAgB,EAChB,UAAuB,CAAC,CAAC,EACzB,KAAc,EACd,cAAuB,KAAK;IAE5B,IAAI;QACF,IAAI,aAAa;YACf;YACA,uBAAuB;QACzB;QAEA,MAAM,MAAM,MAAM,MAAM,yEAAqC,UAAU,EAAE;YACvE,GAAG,OAAO;YACV,SAAS;gBACP,UAAU;gBACV,gBAAgB;gBAChB,GAAI,QAAQ;oBAAE,eAAe,CAAC,OAAO,EAAE,OAAO;gBAAC,IAAI,CAAC,CAAC;gBACrD,GAAG,QAAQ,OAAO;YACpB;QACF;QAEA,IAAI,OAAY;QAChB,IAAI;YACF,OAAO,MAAM,IAAI,IAAI;QACvB,EAAE,OAAM,CAAE;QAEV,IAAI,CAAC,IAAI,EAAE,EAAE,MAAM,QAAQ;YAAE,SAAS;QAA2B;QAEjE,OAAO;IACT,SAAU;QACR,IAAI,aAAa;YACf;YACA,IAAI,iBAAiB,GAAG;gBACtB,uBAAuB;YACzB;QACF;IACF;AACF;AAGO,eAAe,cAAc,MAAwB;IAC1D,MAAM,MAAM,uEAAmC,SAAS,EAAE,SAAS,CAAC,CAAC,EAAE,QAAQ,GAAG,IAAI;IAEtF,MAAM,MAAM,MAAM,MAAM,KAAK;QAC3B,OAAO;IACT;IAEA,IAAI,CAAC,IAAI,EAAE,EAAE;QACX,MAAM,IAAI,MAAM;IAClB;IAEA,OAAO,IAAI,IAAI;AACjB;AAEO,eAAe,aAAa,IAAY;IAC7C,MAAM,MAAM,MAAM,MAChB,uEAAmC,UAAU,EAAE,MAAM,EACrD;QAAE,OAAO;IAAW;IAGtB,IAAI,CAAC,IAAI,EAAE,EAAE,OAAO;IACpB,MAAM,OAAO,MAAM,IAAI,IAAI;IAC3B,OAAO,KAAK,IAAI,IAAI;AACtB;AAIO,eAAe;IACpB,MAAM,MAAM,MAAM,MAAM,uEAAmC,mBAAmB,CAAC,EAAE;QAC/E,OAAO;IACT;IAEA,IAAI,CAAC,IAAI,EAAE,EAAE,MAAM,IAAI,MAAM;IAE7B,OAAO,IAAI,IAAI;AACjB;AAIO,eAAe,gBACpB,KAIG,EACH,KAAc;IAEd,OAAO,SACL,CAAC,cAAc,CAAC,EAChB;QACE,QAAQ;QACR,MAAM,KAAK,SAAS,CAAC;YACnB,OAAO,MAAM,GAAG,CAAC,CAAA,IAAK,CAAC;oBACrB,YAAY,EAAE,SAAS;oBACvB,oBAAoB,EAAE,SAAS;oBAC/B,UAAU,EAAE,QAAQ;gBACtB,CAAC;QACH;IACF,GACA;AAEJ;AACO,MAAM,aAAa,OACxB,OACA;IAMA,OAAO,SACL,SACA;QACE,QAAQ;QACR,MAAM,KAAK,SAAS,CAAC;YACnB,OAAO;gBACL;oBACE,YAAY,KAAK,SAAS;oBAC1B,oBAAoB,KAAK,SAAS;oBAClC,UAAU,KAAK,QAAQ;gBACzB;aACD;QACH;IACF,GACA;AAEJ;AAEO,eAAe,kBACpB,UAAkB,EAClB,QAAgB,EAChB,KAAa;IAEb,OAAO,SACL,CAAC,MAAM,EAAE,YAAY,EACrB;QACE,QAAQ;QACR,MAAM,KAAK,SAAS,CAAC;YAAE;QAAS;IAClC,GACA,OACA;AAEJ;AAGO,eAAe,kBACpB,UAAkB,EAClB,KAAa;IAEb,OAAO,SACL,CAAC,MAAM,EAAE,YAAY,EACrB;QAAE,QAAQ;IAAS,GACnB,OACA;AAEJ;AAGO,eAAe,aAAc,KAAc;IAChD,OAAO,SACL,eACA;QACE,QAAQ;IACV,GACA,OACA;AAEJ;AAEO,MAAM,iBAAiB,OAAO;IACnC,OAAO,SAAS,cAAc;QAC5B,QAAQ;IACV,GAAG;AACL;AAEO,eAAe,kBAAmB,WAAmB,EAAE,KAAc;IAC1E,OAAO,SACL,CAAC,QAAQ,EAAE,aAAa,EACxB;QAAE,QAAQ;IAAM,GAChB;AAEJ"}},
    {"offset": {"line": 199, "column": 0}, "map": {"version":3,"sources":["file:///C:/dev/pet-shop-mockup/app/products/%5Bslug%5D/page.tsx"],"sourcesContent":["import { notFound } from \"next/navigation\"\nimport ProductClient from \"./product-client\"\nimport { fetchProduct } from \"@/lib/api\"\nimport type { Product } from \"@/lib/product-data\"\n\nexport default async function ProductPage({\n  params,\n}: {\n  params: Promise<{ slug: string }>\n}) {\n  const { slug } = await params\n\n  if (!slug) notFound()\n\n  const product: Product | null = await fetchProduct(slug)\n\n  if (!product) notFound()\n\n  return <ProductClient product={product} />\n}\n"],"names":[],"mappings":";;;;;AAAA;AAAA;AACA;AACA;;;;;AAGe,eAAe,YAAY,EACxC,MAAM,EAGP;IACC,MAAM,EAAE,IAAI,EAAE,GAAG,MAAM;IAEvB,IAAI,CAAC,MAAM,IAAA,iMAAQ;IAEnB,MAAM,UAA0B,MAAM,IAAA,0HAAY,EAAC;IAEnD,IAAI,CAAC,SAAS,IAAA,iMAAQ;IAEtB,qBAAO,8OAAC,4JAAa;QAAC,SAAS;;;;;;AACjC"}}]
}