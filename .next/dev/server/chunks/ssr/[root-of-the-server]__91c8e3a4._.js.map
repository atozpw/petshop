{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 14, "column": 0}, "map": {"version":3,"sources":["file:///Users/ato/Developer/petshop-fe/app/products/%5Bslug%5D/product-client.tsx/__nextjs-internal-proxy.mjs"],"sourcesContent":["// This file is generated by next-core EcmascriptClientReferenceModule.\nimport { registerClientReference } from \"react-server-dom-turbopack/server\";\nexport default registerClientReference(\n    function() { throw new Error(\"Attempted to call the default export of [project]/app/products/[slug]/product-client.tsx <module evaluation> from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.\"); },\n    \"[project]/app/products/[slug]/product-client.tsx <module evaluation>\",\n    \"default\",\n);\n"],"names":[],"mappings":";;;;AAAA,uEAAuE;AACvE;;uCACe,IAAA,wQAAuB,EAClC;IAAa,MAAM,IAAI,MAAM;AAA0S,GACvU,wEACA","ignoreList":[0]}},
    {"offset": {"line": 28, "column": 0}, "map": {"version":3,"sources":["file:///Users/ato/Developer/petshop-fe/app/products/%5Bslug%5D/product-client.tsx/__nextjs-internal-proxy.mjs"],"sourcesContent":["// This file is generated by next-core EcmascriptClientReferenceModule.\nimport { registerClientReference } from \"react-server-dom-turbopack/server\";\nexport default registerClientReference(\n    function() { throw new Error(\"Attempted to call the default export of [project]/app/products/[slug]/product-client.tsx from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.\"); },\n    \"[project]/app/products/[slug]/product-client.tsx\",\n    \"default\",\n);\n"],"names":[],"mappings":";;;;AAAA,uEAAuE;AACvE;;uCACe,IAAA,wQAAuB,EAClC;IAAa,MAAM,IAAI,MAAM;AAAsR,GACnT,oDACA","ignoreList":[0]}},
    {"offset": {"line": 42, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":""}},
    {"offset": {"line": 50, "column": 0}, "map": {"version":3,"sources":["file:///Users/ato/Developer/petshop-fe/lib/api.ts"],"sourcesContent":["// lib/api.ts\nlet loadingCount = 0\nlet globalLoadingHandler: ((loading: boolean) => void) | null = null\n\nexport function setGlobalLoadingHandler(handler: (loading: boolean) => void) {\n  globalLoadingHandler = handler\n}\n\nexport async function apiFetch(\n  endpoint: string,\n  options: RequestInit = {},\n  token?: string,\n  withLoading: boolean = false\n) {\n  try {\n    if (withLoading) {\n      loadingCount++\n      globalLoadingHandler?.(true)\n    }\n\n    const res = await fetch(`${process.env.NEXT_PUBLIC_API_URL}${endpoint}`, {\n      ...options,\n      headers: {\n        \"Accept\": \"application/json\",\n        \"Content-Type\": \"application/json\",\n        ...(token ? { Authorization: `Bearer ${token}` } : {}),\n        ...options.headers,\n      },\n    })\n\n    let data: any = null\n    try {\n      data = await res.json()\n    } catch { }\n\n    if (!res.ok) throw data || { message: \"Terjadi kesalahan server\" }\n\n    return data\n  } finally {\n    if (withLoading) {\n      loadingCount--\n      if (loadingCount === 0) {\n        globalLoadingHandler?.(false)\n      }\n    }\n  }\n}\n\n\nexport async function fetchProducts(params?: URLSearchParams) {\n  const url = `${process.env.NEXT_PUBLIC_API_URL}/products${params ? `?${params}` : \"\"}`\n\n  const res = await fetch(url, {\n    cache: \"no-store\"\n  })\n\n  if (!res.ok) {\n    throw new Error(\"Failed to fetch products\")\n  }\n\n  return res.json()\n}\n\nexport async function fetchProduct(slug: string) {\n  const res = await fetch(\n    `${process.env.NEXT_PUBLIC_API_URL}/products/${slug}`,\n    { cache: \"no-store\" }\n  )\n\n  if (!res.ok) return null\n  const json = await res.json()\n  return json.data ?? null\n}\n\n\n\nexport async function fetchCategories() {\n  const res = await fetch(`${process.env.NEXT_PUBLIC_API_URL}/product-categories`, {\n    cache: \"no-store\",\n  })\n\n  if (!res.ok) throw new Error(\"Failed to fetch categories\")\n\n  return res.json()\n}\n\n\n\nexport async function validateCartAPI(\n  items: {\n    productId: number\n    variantId: number | null\n    quantity: number\n  }[],\n  token?: string\n) {\n  return apiFetch(\n    `/cart/validate`,\n    {\n      method: \"POST\",\n      body: JSON.stringify({\n        items: items.map(i => ({\n          product_id: i.productId,\n          product_variant_id: i.variantId,\n          quantity: i.quantity,\n        })),\n      }),\n    },\n    token\n  )\n}\nexport const addCartAPI = async (\n  token: string,\n  item: {\n    productId: number\n    variantId: number | null\n    quantity: number\n  }\n) => {\n  return apiFetch(\n    \"/cart\",\n    {\n      method: \"POST\",\n      body: JSON.stringify({\n        items: [\n          {\n            product_id: item.productId,\n            product_variant_id: item.variantId,\n            quantity: item.quantity,\n          },\n        ],\n      }),\n    },\n    token\n  )\n}\n\nexport async function updateCartItemAPI(\n  cartItemId: number,\n  quantity: number,\n  token: string\n) {\n  return apiFetch(\n    `/cart/${cartItemId}`,\n    {\n      method: \"PUT\",\n      body: JSON.stringify({ quantity }),\n    },\n    token,\n    true\n  )\n}\n\n\nexport async function deleteCartItemAPI(\n  cartItemId: number,\n  token: string\n) {\n  return apiFetch(\n    `/cart/${cartItemId}`,\n    { method: \"DELETE\" },\n    token,\n    true\n  )\n}\n\n\nexport async function clearCartAPI (token?: string) {\n  return apiFetch(\n    \"/cart/clear\",\n    {\n      method: \"DELETE\",\n    },\n    token,\n    true\n  )\n}\n\nexport const getMyOrdersAPI = async (token?: string) => {\n  return apiFetch(\"/orders/my\", {\n    method: \"GET\",\n  }, token)\n}\n\nexport async function getOrderDetailAPI( orderNumber: string, token?: string ) {\n  return apiFetch(\n    `/orders/${orderNumber}`,\n    { method: \"GET\" },\n    token\n  )\n}\n\n\n\n\n\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 199, "column": 0}, "map": {"version":3,"sources":["file:///Users/ato/Developer/petshop-fe/app/products/%5Bslug%5D/page.tsx"],"sourcesContent":["import { notFound } from \"next/navigation\"\nimport ProductClient from \"./product-client\"\nimport { fetchProduct } from \"@/lib/api\"\nimport type { Product } from \"@/lib/product-data\"\n\nexport default async function ProductPage({\n  params,\n}: {\n  params: Promise<{ slug: string }>\n}) {\n  const { slug } = await params\n\n  if (!slug) notFound()\n\n  const product: Product | null = await fetchProduct(slug)\n\n  if (!product) notFound()\n\n  return <ProductClient product={product} />\n}\n"],"names":[],"mappings":";;;;;AAAA;AAAA;AACA;AACA;;;;;AAGe,eAAe,YAAY,EACxC,MAAM,EAGP;IACC,MAAM,EAAE,IAAI,EAAE,GAAG,MAAM;IAEvB,IAAI,CAAC,MAAM,IAAA,iMAAQ;IAEnB,MAAM,UAA0B,MAAM,IAAA,0HAAY,EAAC;IAEnD,IAAI,CAAC,SAAS,IAAA,iMAAQ;IAEtB,qBAAO,8OAAC,4JAAa;QAAC,SAAS;;;;;;AACjC"}}]
}